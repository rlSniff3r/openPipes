# üìò Guia de Uso - OSINT People Module v2.0

**Vers√£o:** 2.0 - Real Implementation (Unmasked)  
**Data:** 2025-11-12  
**Status:** ‚úÖ Produ√ß√£o

---

## üéØ O Que Mudou na v2.0

### ‚úÖ Implementa√ß√µes Completas

1. **osint_people_collector.py v2.0**
   - ‚úÖ Coleta REAL via GitHub API
   - ‚úÖ Coleta via Hunter.io API
   - ‚úÖ Verifica√ß√£o de breaches (Have I Been Pwned)
   - ‚úÖ Deduplica√ß√£o inteligente
   - ‚úÖ Rate limiting implementado
   - ‚úÖ **SEM MASKING** - Dados completos vis√≠veis

2. **osint_doc_finder.py v2.0**
   - ‚úÖ Busca via Wayback Machine
   - ‚úÖ Google Custom Search API
   - ‚úÖ Bing Search API
   - ‚úÖ GitHub Code Search
   - ‚úÖ Download autom√°tico de documentos
   - ‚úÖ Extra√ß√£o de metadados sens√≠veis
   - ‚úÖ Detec√ß√£o de IPs internos, emails, paths

3. **osint_people_enricher_v1.0.py v1.1**
   - ‚úÖ **REMOVIDO sistema de masking**
   - ‚úÖ Todos os emails vis√≠veis
   - ‚úÖ Dados completos para relat√≥rios de seguran√ßa

---

## üîß Configura√ß√£o de API Keys

### Vari√°veis de Ambiente Necess√°rias

```bash
# Adicionar ao ~/.bashrc ou ~/.zshrc

# GitHub (OBRIGAT√ìRIO para melhores resultados)
export GITHUB_TOKEN="ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Hunter.io (ALTAMENTE RECOMENDADO)
export HUNTER_API_KEY="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Have I Been Pwned (RECOMENDADO)
export HIBP_API_KEY="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Google Custom Search (OPCIONAL mas √∫til)
export GOOGLE_API_KEY="AIzaSyxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
export GOOGLE_CX="017576662512468239146:omuauf_lfve"

# Bing Search (OPCIONAL)
export BING_API_KEY="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
```

### Como Obter as API Keys

#### 1. GitHub Token (GR√ÅTIS)
```
1. Acesse: https://github.com/settings/tokens
2. Click em "Generate new token (classic)"
3. Selecione scopes:
   - repo (Full control)
   - read:org
   - read:user
   - user:email
4. Copie o token (come√ßa com ghp_)
```

#### 2. Hunter.io (50 searches gr√°tis/m√™s)
```
1. Cadastre-se: https://hunter.io/users/sign_up
2. Acesse: https://hunter.io/api_keys
3. Copie a API key
```

#### 3. Have I Been Pwned (US$ 3.50/m√™s)
```
1. Cadastre-se: https://haveibeenpwned.com/API/Key
2. Pague a taxa √∫nica
3. Copie a API key
```

#### 4. Google Custom Search (100 queries gr√°tis/dia)
```
1. Crie projeto: https://console.cloud.google.com
2. Ative Custom Search API
3. Crie credenciais (API Key)
4. Crie Search Engine: https://cse.google.com/cse/
5. Copie o CX (Search Engine ID)
```

#### 5. Bing Search (1000 transactions gr√°tis/m√™s)
```
1. Acesse: https://www.microsoft.com/en-us/bing/apis/bing-web-search-api
2. Crie conta Azure (se n√£o tiver)
3. Crie recurso Bing Search v7
4. Copie a chave da API
```

---

## üöÄ Uso B√°sico

### 1. Coleta Simples (Sem API Keys)

```bash
# Coleta apenas via GitHub (limitado)
osint-runner-people.sh example.com
```

### 2. Coleta Completa (Com API Keys Configuradas)

```bash
# Configure as vari√°veis de ambiente primeiro
export GITHUB_TOKEN="ghp_..."
export HUNTER_API_KEY="..."
export HIBP_API_KEY="..."

# Execute a coleta
osint-runner-people.sh example.com
```

### 3. Coleta Manual por M√≥dulos

```bash
# 1. Coletar pessoas
python3 /usr/local/bin/osint_people_collector.py \
    "example" \
    "$HOME/ObsidianVault/Pentest/Alvos/example/OSINT/People/raw_people.json"

# 2. Parsear perfis
python3 /usr/local/bin/osint_people_parser.py \
    "$HOME/ObsidianVault/Pentest/Alvos/example/OSINT/People/raw_people.json" \
    "$HOME/ObsidianVault/Pentest/Alvos/example/OSINT/People/"

# 3. Buscar documentos
python3 /usr/local/bin/osint_doc_finder.py \
    "example.com" \
    "$HOME/ObsidianVault/Pentest/Alvos/example/OSINT/People/evidences/"

# 4. Gerar summary
osint-summary-people.sh example
```

---

## üìä Estrutura de Sa√≠da

```
ObsidianVault/
‚îî‚îÄ‚îÄ Pentest/
    ‚îî‚îÄ‚îÄ Alvos/
        ‚îî‚îÄ‚îÄ example/
            ‚îî‚îÄ‚îÄ OSINT/
                ‚îî‚îÄ‚îÄ People/
                    ‚îú‚îÄ‚îÄ raw_people.json          # Dados brutos coletados
                    ‚îú‚îÄ‚îÄ people_john_doe.md       # Perfil individual
                    ‚îú‚îÄ‚îÄ people_jane_smith.md     # Perfil individual
                    ‚îú‚îÄ‚îÄ osint_people_summary.md  # Dashboard global
                    ‚îú‚îÄ‚îÄ _index.md                # √çndice de perfis
                    ‚îî‚îÄ‚îÄ evidences/
                        ‚îú‚îÄ‚îÄ metadata.json        # Metadados extra√≠dos
                        ‚îî‚îÄ‚îÄ raw_files/
                            ‚îú‚îÄ‚îÄ abc123.pdf       # Documentos baixados
                            ‚îî‚îÄ‚îÄ def456.docx
```

### Exemplo de Perfil Individual (people_john_doe.md)

```markdown
---
name: "John Doe"
email: "john.doe@example.com"
role: "Senior DevOps Engineer"
photo: "https://avatars.githubusercontent.com/u/12345"
github: "https://github.com/johndoe"
linkedin: "https://linkedin.com/in/johndoe"
source: "github, hunter.io"
generated: "2025-11-12T10:30:00Z"
verified: false
---

# John Doe

**Auto-generated**: 2025-11-12T10:30:00Z

## Evidence (auto-collected)
- github | member | https://github.com/johndoe | confidence: 90
- hunter.io | email | john.doe@example.com | confidence: 95
- hibp | breach | Found in 2 breaches | confidence: 100

## üîó Links

- **GitHub:** [https://github.com/johndoe](https://github.com/johndoe)
- **LinkedIn:** [https://linkedin.com/in/johndoe](https://linkedin.com/in/johndoe)

## üìÇ Evid√™ncias Encontradas

- [evidences/raw_files/abc123.pdf](evidences/raw_files/abc123.pdf)

## ‚ö†Ô∏è Security Findings

### Data Breaches
Email found in the following breaches:
- LinkedIn (2021)
- Dropbox (2012)

**Risk Level:** MEDIUM
```

---

## üìà Estat√≠sticas e M√©tricas

### O Que o M√≥dulo Coleta

| Fonte | Dados Coletados | Requer API |
|-------|-----------------|------------|
| **GitHub** | Nome, email, username, bio, company, location, repos, followers | ‚úÖ Token |
| **Hunter.io** | Nome, email, cargo, departamento, telefone, LinkedIn, confidence score | ‚úÖ API Key |
| **HIBP** | Emails em breaches, lista de breaches, risk level | ‚úÖ API Key |
| **Google** | URLs de documentos p√∫blicos | ‚úÖ API Key |
| **Bing** | URLs de documentos p√∫blicos | ‚úÖ API Key |
| **Wayback** | Arquivos hist√≥ricos, documentos antigos | ‚ùå Gr√°tis |
| **Documents** | Metadados (autor, creator, company), emails internos, IPs, paths | ‚ùå Via exiftool |

### Dados Sens√≠veis Detectados

- ‚úÖ **Emails** - Todos os emails encontrados (sem masking)
- ‚úÖ **IPs Internos** - 10.x, 172.16-31.x, 192.168.x
- ‚úÖ **Hostnames** - Servidores internos
- ‚úÖ **Usernames** - Usu√°rios de sistema
- ‚úÖ **Paths** - Caminhos de arquivos internos
- ‚úÖ **UUIDs** - Identificadores √∫nicos
- ‚úÖ **Breaches** - Vazamentos de dados

---

## ‚ö° Rate Limits e Performance

### Limites por API

| API | Rate Limit | Custo |
|-----|------------|-------|
| GitHub (sem token) | 60 req/hora | Gr√°tis |
| GitHub (com token) | 5000 req/hora | Gr√°tis |
| Hunter.io | 50 searches/m√™s | Gr√°tis |
| HIBP | 1 req/1.5s | US$ 3.50/m√™s |
| Google CSE | 100 queries/dia | Gr√°tis |
| Bing | 1000 trans/m√™s | Gr√°tis |
| Wayback | ~100 req/min | Gr√°tis |

### Tempo Estimado de Execu√ß√£o

| Organiza√ß√£o | Membros | Documentos | Tempo Total |
|-------------|---------|------------|-------------|
| Pequena | <10 | <50 | 2-5 min |
| M√©dia | 10-50 | 50-200 | 5-15 min |
| Grande | 50-200 | 200-500 | 15-45 min |
| Enterprise | >200 | >500 | 45-120 min |

---

## üîí Considera√ß√µes de Seguran√ßa e Legalidade

### ‚ö†Ô∏è AVISOS IMPORTANTES

1. **Autoriza√ß√£o Obrigat√≥ria**
   - ‚úÖ Use apenas em alvos autorizados
   - ‚úÖ Mantenha arquivo de autoriza√ß√£o atualizado
   - ‚ùå NUNCA use contra indiv√≠duos sem permiss√£o

2. **Dados N√£o Mascarados**
   - ‚ö†Ô∏è Todos os emails s√£o vis√≠veis
   - ‚ö†Ô∏è Dados sens√≠veis expostos para an√°lise
   - ‚ö†Ô∏è Proteja os outputs adequadamente

3. **Armazenamento Seguro**
   ```bash
   # Criptografar resultados
   gpg --encrypt --recipient security@company.com \
       ObsidianVault/Pentest/Alvos/example/OSINT/People/raw_people.json
   
   # Remover originais ap√≥s criptografar
   shred -uvz raw_people.json
   ```

4. **Rate Limiting √âtico**
   - ‚úÖ Implementado em todos os collectors
   - ‚úÖ Respeita robots.txt
   - ‚úÖ User-Agent identific√°vel

5. **GDPR / LGPD Compliance**
   - ‚ö†Ô∏è Dados pessoais s√£o coletados
   - ‚ö†Ô∏è Use apenas para fins leg√≠timos de seguran√ßa
   - ‚ö†Ô∏è Delete dados ap√≥s an√°lise

---

## üêõ Troubleshooting

### Erro: "Rate limit exceeded"

```bash
# Solu√ß√£o: Aguardar ou usar token
export GITHUB_TOKEN="seu_token_aqui"
```

### Erro: "Hunter.io API key not configured"

```bash
# Solu√ß√£o: Configurar API key
export HUNTER_API_KEY="sua_key_aqui"
```

### Erro: "exiftool not found"

```bash
# Solu√ß√£o: Instalar exiftool
sudo apt install exiftool
```

### Coleta retorna poucos resultados

**Poss√≠veis causas:**
1. Organiza√ß√£o n√£o tem membros p√∫blicos no GitHub
2. Dom√≠nio n√£o est√° indexado no Hunter.io
3. Poucos documentos p√∫blicos dispon√≠veis

**Solu√ß√µes:**
```bash
# 1. Verificar se org existe no GitHub
curl https://api.github.com/orgs/example

# 2. Testar Hunter.io manualmente
curl "https://api.hunter.io/v2/domain-search?domain=example.com&api_key=$HUNTER_API_KEY"

# 3. Buscar documentos manualmente
site:example.com filetype:pdf
```

---

## üìö Exemplos Avan√ßados

### 1. Coleta com M√∫ltiplos Dom√≠nios

```bash
#!/bin/bash
domains=("example.com" "subsidiary.com" "partner.org")

for domain in "${domains[@]}"; do
    echo "[+] Processing $domain"
    osint-runner-people.sh "$domain"
done
```

### 2. Filtrar Apenas Emails com Alto Confidence

```bash
jq '.people[] | select(.confidence > 80) | {name, email, confidence}' \
    raw_people.json
```

### 3. Exportar para CSV

```bash
jq -r '.people[] | [.name, .email, .role, .source, .confidence] | @csv' \
    raw_people.json > people.csv
```

### 4. Buscar Pessoas em Breaches

```bash
jq '.people[] | select(.metadata.breaches != null) | {name, email, breaches: .metadata.breaches.breach_count}' \
    raw_people.json
```

### 5. Integrar com Relat√≥rio

```python
import json

with open('raw_people.json') as f:
    data = json.load(f)

print(f"## Executive Summary")
print(f"- Total people identified: {data['total_unique']}")
print(f"- Sources used: {', '.join(data['sources'])}")
print(f"- Emails found in breaches: {sum(1 for p in data['people'] if p.get('metadata', {}).get('breaches'))}")
```

---

## üéì Boas Pr√°ticas

### 1. Sempre Use Autoriza√ß√£o
```bash
# Criar arquivo de autoriza√ß√£o antes de cada uso
cat > ~/.openpipes/osint_people_auth.txt << EOF
AUTHORIZED_DOMAINS=example.com
AUTHORIZED_BY=john.doe@company.com
AUTHORIZATION_DATE=$(date +%Y-%m-%d)
PURPOSE=security-assessment
CLIENT_APPROVAL_REF=TICKET-12345
EOF
```

### 2. Documente os Achados
```markdown
# Adicione contexto aos perfis encontrados
## Notes

### 2025-11-12 - Initial Discovery
- Found via GitHub org members
- Email verified via Hunter.io (95% confidence)
- Found in 2 data breaches (LinkedIn 2021, Dropbox 2012)
- **Action Required:** Notify about breach exposure
```

### 3. Mantenha Logs
```bash
# Redirecionar output para log
osint-runner-people.sh example.com 2>&1 | tee osint-$(date +%Y%m%d-%H%M%S).log
```

### 4. Backup Regular
```bash
# Backup autom√°tico
tar -czf "osint-backup-$(date +%Y%m%d).tar.gz" \
    ~/ObsidianVault/Pentest/Alvos/*/OSINT/People/
```

---

## üìû Suporte e Contribui√ß√£o

### Reportar Bugs
- GitHub Issues: https://github.com/rlSniff3r/openPipes/issues

### Contribuir
- Fork o projeto
- Crie branch de feature
- Submeta Pull Request

### Contato
- Email: security@openpipes.dev
- Discord: OpenPipeS Community

---

**Vers√£o do Documento:** 2.0  
**√öltima Atualiza√ß√£o:** 2025-11-12  
**Pr√≥xima Revis√£o:** 2025-12-12